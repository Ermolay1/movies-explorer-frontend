{"ast":null,"code":"// проверка изображений полученных от сервера\nfunction transformMovies(movies){movies.forEach(function(movie){if(!movie.image){movie.image='https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80';movie.thumbnail='https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80';}else{movie.thumbnail=\"https://api.nomoreparties.co\".concat(movie.image.formats.thumbnail.url);movie.image=\"https://api.nomoreparties.co\".concat(movie.image.url);}if(!movie.country){movie.country='Russia';}if(!movie.nameEN){movie.nameEN=movie.nameRU;}});return movies;}// фильтрация по длительности\nfunction filterShortMovies(movies){return movies.filter(function(movie){return movie.duration<40;});}// фильтрация по запросу\nfunction filterMovies(movies,userQuery,shortMoviesCheckbox){var moviesByUserQuery=movies.filter(function(movie){var movieRu=String(movie.nameRU).toLowerCase().trim();var movieEn=String(movie.nameEN).toLowerCase().trim();var userMovie=userQuery.toLowerCase().trim();return movieRu.indexOf(userMovie)!==-1||movieEn.indexOf(userMovie)!==-1;});if(shortMoviesCheckbox){return filterShortMovies(moviesByUserQuery);}else{return moviesByUserQuery;}}// преобразование длительности\nfunction transformDuration(duration){var hours=Math.trunc(duration/60);var minutes=duration%60;if(hours===0){return\"\".concat(minutes,\"\\u043C\");}else{return\"\".concat(hours,\"\\u0447 \").concat(minutes,\"\\u043C\");}}// cравнение сохраненных фильмов\nfunction getSavedMovieCard(arr,movie){return arr.find(function(item){return item.movieId===(movie.id||movie.movieId);});}export{transformMovies,filterMovies,filterShortMovies,transformDuration,getSavedMovieCard};","map":{"version":3,"names":["transformMovies","movies","forEach","movie","image","thumbnail","concat","formats","url","country","nameEN","nameRU","filterShortMovies","filter","duration","filterMovies","userQuery","shortMoviesCheckbox","moviesByUserQuery","movieRu","String","toLowerCase","trim","movieEn","userMovie","indexOf","transformDuration","hours","Math","trunc","minutes","getSavedMovieCard","arr","find","item","movieId","id"],"sources":["C:/Users/Леха/Documents/dev/first-project/movies-explorer-frontend/src/utils/utils.js"],"sourcesContent":["// проверка изображений полученных от сервера\nfunction transformMovies(movies) {\n  movies.forEach(movie => {\n    if (!movie.image) {\n      movie.image = 'https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80';\n      movie.thumbnail = 'https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80';\n    } else {\n      movie.thumbnail = `https://api.nomoreparties.co${movie.image.formats.thumbnail.url}`\n      movie.image = `https://api.nomoreparties.co${movie.image.url}`\n    }\n    if(!movie.country) {\n      movie.country = 'Russia';\n    }\n    if(!movie.nameEN) {\n      movie.nameEN = movie.nameRU;\n    }\n  });\n  return movies\n}\n\n// фильтрация по длительности\nfunction filterShortMovies(movies) {\n  return movies.filter(movie => movie.duration < 40);\n}\n\n// фильтрация по запросу\nfunction filterMovies(movies, userQuery, shortMoviesCheckbox) {\n  const moviesByUserQuery = movies.filter((movie) => {\n    const movieRu = String(movie.nameRU).toLowerCase().trim();\n    const movieEn = String(movie.nameEN).toLowerCase().trim();\n    const userMovie = userQuery.toLowerCase().trim();\n    return movieRu.indexOf(userMovie) !== -1 || movieEn.indexOf(userMovie) !== -1;\n  });\n\n  if (shortMoviesCheckbox) {\n    return filterShortMovies(moviesByUserQuery);\n  } else {\n    return moviesByUserQuery;\n  }\n}\n\n// преобразование длительности\nfunction transformDuration(duration) {\n  const hours = Math.trunc(duration / 60);\n  const minutes = duration % 60;\n  if(hours === 0) {\n    return `${minutes}м`;\n  } else {\n    return `${hours}ч ${minutes}м`;\n  }\n}\n\n// cравнение сохраненных фильмов\nfunction getSavedMovieCard(arr, movie) {\n  return arr.find((item) => {\n    return item.movieId === (movie.id || movie.movieId);\n  });\n}\n\nexport {\n  transformMovies,\n  filterMovies,\n  filterShortMovies,\n  transformDuration,\n  getSavedMovieCard,\n};"],"mappings":"AAAA;AACA,QAAS,CAAAA,eAAeA,CAACC,MAAM,CAAE,CAC/BA,MAAM,CAACC,OAAO,CAAC,SAAAC,KAAK,CAAI,CACtB,GAAI,CAACA,KAAK,CAACC,KAAK,CAAE,CAChBD,KAAK,CAACC,KAAK,CAAG,gKAAgK,CAC9KD,KAAK,CAACE,SAAS,CAAG,gKAAgK,CACpL,CAAC,IAAM,CACLF,KAAK,CAACE,SAAS,gCAAAC,MAAA,CAAkCH,KAAK,CAACC,KAAK,CAACG,OAAO,CAACF,SAAS,CAACG,GAAG,CAAE,CACpFL,KAAK,CAACC,KAAK,gCAAAE,MAAA,CAAkCH,KAAK,CAACC,KAAK,CAACI,GAAG,CAAE,CAChE,CACA,GAAG,CAACL,KAAK,CAACM,OAAO,CAAE,CACjBN,KAAK,CAACM,OAAO,CAAG,QAAQ,CAC1B,CACA,GAAG,CAACN,KAAK,CAACO,MAAM,CAAE,CAChBP,KAAK,CAACO,MAAM,CAAGP,KAAK,CAACQ,MAAM,CAC7B,CACF,CAAC,CAAC,CACF,MAAO,CAAAV,MAAM,CACf,CAEA;AACA,QAAS,CAAAW,iBAAiBA,CAACX,MAAM,CAAE,CACjC,MAAO,CAAAA,MAAM,CAACY,MAAM,CAAC,SAAAV,KAAK,QAAI,CAAAA,KAAK,CAACW,QAAQ,CAAG,EAAE,GAAC,CACpD,CAEA;AACA,QAAS,CAAAC,YAAYA,CAACd,MAAM,CAAEe,SAAS,CAAEC,mBAAmB,CAAE,CAC5D,GAAM,CAAAC,iBAAiB,CAAGjB,MAAM,CAACY,MAAM,CAAC,SAACV,KAAK,CAAK,CACjD,GAAM,CAAAgB,OAAO,CAAGC,MAAM,CAACjB,KAAK,CAACQ,MAAM,CAAC,CAACU,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CACzD,GAAM,CAAAC,OAAO,CAAGH,MAAM,CAACjB,KAAK,CAACO,MAAM,CAAC,CAACW,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CACzD,GAAM,CAAAE,SAAS,CAAGR,SAAS,CAACK,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAChD,MAAO,CAAAH,OAAO,CAACM,OAAO,CAACD,SAAS,CAAC,GAAK,CAAC,CAAC,EAAID,OAAO,CAACE,OAAO,CAACD,SAAS,CAAC,GAAK,CAAC,CAAC,CAC/E,CAAC,CAAC,CAEF,GAAIP,mBAAmB,CAAE,CACvB,MAAO,CAAAL,iBAAiB,CAACM,iBAAiB,CAAC,CAC7C,CAAC,IAAM,CACL,MAAO,CAAAA,iBAAiB,CAC1B,CACF,CAEA;AACA,QAAS,CAAAQ,iBAAiBA,CAACZ,QAAQ,CAAE,CACnC,GAAM,CAAAa,KAAK,CAAGC,IAAI,CAACC,KAAK,CAACf,QAAQ,CAAG,EAAE,CAAC,CACvC,GAAM,CAAAgB,OAAO,CAAGhB,QAAQ,CAAG,EAAE,CAC7B,GAAGa,KAAK,GAAK,CAAC,CAAE,CACd,SAAArB,MAAA,CAAUwB,OAAO,WACnB,CAAC,IAAM,CACL,SAAAxB,MAAA,CAAUqB,KAAK,YAAArB,MAAA,CAAKwB,OAAO,WAC7B,CACF,CAEA;AACA,QAAS,CAAAC,iBAAiBA,CAACC,GAAG,CAAE7B,KAAK,CAAE,CACrC,MAAO,CAAA6B,GAAG,CAACC,IAAI,CAAC,SAACC,IAAI,CAAK,CACxB,MAAO,CAAAA,IAAI,CAACC,OAAO,IAAMhC,KAAK,CAACiC,EAAE,EAAIjC,KAAK,CAACgC,OAAO,CAAC,CACrD,CAAC,CAAC,CACJ,CAEA,OACEnC,eAAe,CACfe,YAAY,CACZH,iBAAiB,CACjBc,iBAAiB,CACjBK,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}