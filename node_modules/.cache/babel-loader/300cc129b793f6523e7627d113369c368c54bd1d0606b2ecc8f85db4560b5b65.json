{"ast":null,"code":"import React from'react';import{useEffect}from'react';import{useContext}from'react';import Header from\"../Header/Header\";import CurrentUserContext from'../../contexts/CurrentUserContext';import useFormWithValidation from'../../hook/useFormWithValidation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Profile(_ref){var handleSignOut=_ref.handleSignOut,handleProfile=_ref.handleProfile,loggedIn=_ref.loggedIn;var _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,handleChange=_useFormWithValidatio.handleChange,resetForm=_useFormWithValidatio.resetForm,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid;var currentUser=useContext(CurrentUserContext);function handleSubmit(e){e.preventDefault();handleProfile(values);console.log(values);}useEffect(function(){if(currentUser){resetForm(currentUser,{},true);}},[currentUser,resetForm]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{loggedIn:loggedIn}),/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"profile__title\",children:\"\\u041F\\u0440\\u0438\\u0432\\u0435\\u0442, \".concat(currentUser.name||'',\"!\")}),/*#__PURE__*/_jsxs(\"form\",{className:\"profile__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"profile__label\",children:[\"\\u0418\\u043C\\u044F\",/*#__PURE__*/_jsx(\"input\",{name:\"name\",className:\"profile__input\",onChange:handleChange,defaultValue:values.name||'',type:\"text\",required:true,minLength:\"2\",maxLength:\"30\",pattern:\"^[A-Za-z\\u0410-\\u042F\\u0430-\\u044F\\u0401\\u0451 /s -]+$\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"profile__erorr\",children:errors.name}),/*#__PURE__*/_jsxs(\"label\",{className:\"profile__label\",children:[\"E-mail\",/*#__PURE__*/_jsx(\"input\",{name:\"email\",className:\"profile__input\",onChange:handleChange,defaultValue:values.email||'',type:\"email\",required:true})]}),/*#__PURE__*/_jsx(\"span\",{className:\"profile__erorr\",children:errors.email}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button-save\",type:\"submit\",disabled:!isValid,children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"profile__logout\",onClick:handleSignOut,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"})]})]});}export default Profile;","map":{"version":3,"names":["React","useEffect","useContext","Header","CurrentUserContext","useFormWithValidation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","_ref","handleSignOut","handleProfile","loggedIn","_useFormWithValidatio","values","handleChange","resetForm","errors","isValid","currentUser","handleSubmit","e","preventDefault","console","log","children","className","concat","name","onSubmit","onChange","defaultValue","type","required","minLength","maxLength","pattern","email","disabled","onClick"],"sources":["C:/Users/Леха/Documents/dev/first-project/movies-explorer-frontend/src/components/Profile/Profile.jsx"],"sourcesContent":["import React from 'react';\nimport { useEffect} from 'react';\nimport {useContext} from 'react';\nimport Header from \"../Header/Header\";\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport useFormWithValidation from '../../hook/useFormWithValidation';\n\nfunction Profile({ handleSignOut, handleProfile, loggedIn }){\n\n  const { values, handleChange, resetForm, errors, isValid } = useFormWithValidation();\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    handleProfile(values);\n    console.log(values);\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser, {}, true);\n    }\n  }, [currentUser, resetForm]);\n\n return(\n        <>\n            <Header loggedIn={loggedIn} />\n            <section className=\"profile\">\n                <h3 className=\"profile__title\">{`Привет, ${currentUser.name || ''}!`}</h3>\n                <form className=\"profile__form\" onSubmit={handleSubmit}>\n                    <label className=\"profile__label\">\n                    Имя\n                        <input\n                        name='name'\n                        className=\"profile__input\"\n                        onChange={handleChange}\n                        defaultValue={values.name || ''}\n                        type='text'\n                        required\n                        minLength=\"2\"\n                        maxLength=\"30\"\n                        pattern=\"^[A-Za-zА-Яа-яЁё /s -]+$\"\n                        \n                        />\n                    </label>\n                    <span className=\"profile__erorr\">{errors.name}</span>\n                    <label className=\"profile__label\">\n                    E-mail\n                        <input\n                        name='email'\n                        className=\"profile__input\"\n                        onChange={handleChange}\n                        defaultValue={values.email || ''}\n                        type=\"email\"\n                        required\n                        />\n                        </label>\n                        <span className=\"profile__erorr\">{errors.email}</span> \n                        <button className='profile__button-save' type='submit' disabled={!isValid} >Редактировать</button>\n                    \n                </form>\n                <button type=\"submit\" className=\"profile__logout\" onClick={handleSignOut}>\n                        Выйти из аккаунта\n                    </button>\n            </section>\n        </>\n    );\n    \n}\n\nexport default Profile"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAO,OAAO,CAChC,OAAQC,UAAU,KAAO,OAAO,CAChC,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,kBAAkB,KAAM,mCAAmC,CAClE,MAAO,CAAAC,qBAAqB,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAErE,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAA4C,IAAzC,CAAAC,aAAa,CAAAD,IAAA,CAAbC,aAAa,CAAEC,aAAa,CAAAF,IAAA,CAAbE,aAAa,CAAEC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CAEvD,IAAAC,qBAAA,CAA6DZ,qBAAqB,CAAC,CAAC,CAA5Ea,MAAM,CAAAD,qBAAA,CAANC,MAAM,CAAEC,YAAY,CAAAF,qBAAA,CAAZE,YAAY,CAAEC,SAAS,CAAAH,qBAAA,CAATG,SAAS,CAAEC,MAAM,CAAAJ,qBAAA,CAANI,MAAM,CAAEC,OAAO,CAAAL,qBAAA,CAAPK,OAAO,CACxD,GAAM,CAAAC,WAAW,CAAGrB,UAAU,CAACE,kBAAkB,CAAC,CAElD,QAAS,CAAAoB,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBX,aAAa,CAACG,MAAM,CAAC,CACrBS,OAAO,CAACC,GAAG,CAACV,MAAM,CAAC,CACrB,CAEAjB,SAAS,CAAC,UAAM,CACd,GAAIsB,WAAW,CAAE,CACfH,SAAS,CAACG,WAAW,CAAE,CAAC,CAAC,CAAE,IAAI,CAAC,CAClC,CACF,CAAC,CAAE,CAACA,WAAW,CAAEH,SAAS,CAAC,CAAC,CAE7B,mBACOX,KAAA,CAAAE,SAAA,EAAAkB,QAAA,eACItB,IAAA,CAACJ,MAAM,EAACa,QAAQ,CAAEA,QAAS,CAAE,CAAC,cAC9BP,KAAA,YAASqB,SAAS,CAAC,SAAS,CAAAD,QAAA,eACxBtB,IAAA,OAAIuB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,0CAAAE,MAAA,CAAaR,WAAW,CAACS,IAAI,EAAI,EAAE,MAAQ,CAAC,cAC1EvB,KAAA,SAAMqB,SAAS,CAAC,eAAe,CAACG,QAAQ,CAAET,YAAa,CAAAK,QAAA,eACnDpB,KAAA,UAAOqB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,EAAC,oBAE9B,cAAAtB,IAAA,UACAyB,IAAI,CAAC,MAAM,CACXF,SAAS,CAAC,gBAAgB,CAC1BI,QAAQ,CAAEf,YAAa,CACvBgB,YAAY,CAAEjB,MAAM,CAACc,IAAI,EAAI,EAAG,CAChCI,IAAI,CAAC,MAAM,CACXC,QAAQ,MACRC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,IAAI,CACdC,OAAO,CAAC,wDAA0B,CAEjC,CAAC,EACC,CAAC,cACRjC,IAAA,SAAMuB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAER,MAAM,CAACW,IAAI,CAAO,CAAC,cACrDvB,KAAA,UAAOqB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,EAAC,QAE9B,cAAAtB,IAAA,UACAyB,IAAI,CAAC,OAAO,CACZF,SAAS,CAAC,gBAAgB,CAC1BI,QAAQ,CAAEf,YAAa,CACvBgB,YAAY,CAAEjB,MAAM,CAACuB,KAAK,EAAI,EAAG,CACjCL,IAAI,CAAC,OAAO,CACZC,QAAQ,MACP,CAAC,EACK,CAAC,cACR9B,IAAA,SAAMuB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAER,MAAM,CAACoB,KAAK,CAAO,CAAC,cACtDlC,IAAA,WAAQuB,SAAS,CAAC,sBAAsB,CAACM,IAAI,CAAC,QAAQ,CAACM,QAAQ,CAAE,CAACpB,OAAQ,CAAAO,QAAA,CAAE,gFAAa,CAAQ,CAAC,EAEpG,CAAC,cACPtB,IAAA,WAAQ6B,IAAI,CAAC,QAAQ,CAACN,SAAS,CAAC,iBAAiB,CAACa,OAAO,CAAE7B,aAAc,CAAAe,QAAA,CAAC,8FAEtE,CAAQ,CAAC,EACR,CAAC,EACZ,CAAC,CAGX,CAEA,cAAe,CAAAjB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}