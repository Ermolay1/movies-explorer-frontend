{"ast":null,"code":"import { MOVIE_URL } from './constants';\nclass MoviesApi {\n  constructor(_ref) {\n    let {\n      baseUrl\n    } = _ref;\n    this._baseUrl = baseUrl;\n  }\n\n  // проверка статуса запроса\n  async _requestResult(res) {\n    const result = await res.json();\n    return res.ok ? result : Promise.reject(res);\n  }\n\n  // регистрация\n  getMovies() {\n    return fetch(`${this._baseUrl}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => this._requestResult(res));\n  }\n}\nconst moviesApi = new MoviesApi({\n  baseUrl: MOVIE_URL\n});\nexport default moviesApi;","map":{"version":3,"names":["MOVIE_URL","MoviesApi","constructor","_ref","baseUrl","_baseUrl","_requestResult","res","result","json","ok","Promise","reject","getMovies","fetch","method","headers","then","moviesApi"],"sources":["C:/Users/Леха/Documents/dev/first-project/movies-explorer-frontend/src/utils/MoviesApi.js"],"sourcesContent":["import { MOVIE_URL } from './constants';\n\nclass MoviesApi {\n  constructor({ baseUrl }) {\n    this._baseUrl = baseUrl;\n  }\n\n  // проверка статуса запроса\n  async _requestResult(res) {\n    const result = await res.json();\n    return res.ok ? result : Promise.reject(res);\n  }\n\n  // регистрация\n  getMovies() {\n    return fetch(`${this._baseUrl}`, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n    }).then((res) => this._requestResult(res));\n  }\n}\n\nconst moviesApi = new MoviesApi({\n  baseUrl: MOVIE_URL,\n});\n\nexport default moviesApi;"],"mappings":"AAAA,SAASA,SAAS,QAAQ,aAAa;AAEvC,MAAMC,SAAS,CAAC;EACdC,WAAWA,CAAAC,IAAA,EAAc;IAAA,IAAb;MAAEC;IAAQ,CAAC,GAAAD,IAAA;IACrB,IAAI,CAACE,QAAQ,GAAGD,OAAO;EACzB;;EAEA;EACA,MAAME,cAAcA,CAACC,GAAG,EAAE;IACxB,MAAMC,MAAM,GAAG,MAAMD,GAAG,CAACE,IAAI,CAAC,CAAC;IAC/B,OAAOF,GAAG,CAACG,EAAE,GAAGF,MAAM,GAAGG,OAAO,CAACC,MAAM,CAACL,GAAG,CAAC;EAC9C;;EAEA;EACAM,SAASA,CAAA,EAAG;IACV,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACT,QAAS,EAAC,EAAE;MAC/BU,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB;IAChD,CAAC,CAAC,CAACC,IAAI,CAAEV,GAAG,IAAK,IAAI,CAACD,cAAc,CAACC,GAAG,CAAC,CAAC;EAC5C;AACF;AAEA,MAAMW,SAAS,GAAG,IAAIjB,SAAS,CAAC;EAC9BG,OAAO,EAAEJ;AACX,CAAC,CAAC;AAEF,eAAekB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}