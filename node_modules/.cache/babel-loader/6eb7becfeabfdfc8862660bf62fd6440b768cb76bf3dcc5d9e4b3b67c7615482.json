{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u041B\\u0435\\u0445\\u0430\\\\Documents\\\\dev\\\\first-project\\\\movies-explorer-frontend\\\\src\\\\components\\\\Profile\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useContext } from 'react';\nimport Header from \"../Header/Header\";\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport useFormWithValidation from '../../hook/useFormWithValidation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Profile(_ref) {\n  _s();\n  let {\n    handleSignOut,\n    handleProfile,\n    loggedIn\n  } = _ref;\n  const {\n    values,\n    handleChange,\n    resetForm,\n    errors,\n    isValid\n  } = useFormWithValidation();\n  const currentUser = useContext(CurrentUserContext);\n  function handleSubmit(e) {\n    e.preventDefault();\n    handleProfile(values);\n    console.log(values);\n  }\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser, {}, true);\n    }\n  }, [currentUser, resetForm]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      loggedIn: loggedIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"profile__title\",\n        children: `Привет, ${currentUser.name || ''}!`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"profile__form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__label\",\n          children: [\"\\u0418\\u043C\\u044F\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            className: \"profile__input\",\n            onChange: handleChange,\n            defaultValue: values.name || '',\n            type: \"text\",\n            required: true,\n            minLength: \"2\",\n            maxLength: \"30\",\n            pattern: \"^[A-Za-z\\u0410-\\u042F\\u0430-\\u044F\\u0401\\u0451 /s -]+$\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profile__erorr\",\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__label\",\n          children: [\"E-mail\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            className: \"profile__input\",\n            onChange: handleChange,\n            defaultValue: values.email || '',\n            type: \"email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profile__erorr\",\n          children: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"profile__button-save\",\n          type: \"submit\",\n          disabled: !isValid || !currentUser,\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"profile__logout\",\n        onClick: handleSignOut,\n        children: \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Profile, \"ZeF9TbXPqG592Qu5K/iUIqEjgj0=\", false, function () {\n  return [useFormWithValidation];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useContext","Header","CurrentUserContext","useFormWithValidation","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_ref","_s","handleSignOut","handleProfile","loggedIn","values","handleChange","resetForm","errors","isValid","currentUser","handleSubmit","e","preventDefault","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","className","name","onSubmit","onChange","defaultValue","type","required","minLength","maxLength","pattern","email","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Леха/Documents/dev/first-project/movies-explorer-frontend/src/components/Profile/Profile.jsx"],"sourcesContent":["import React from 'react';\nimport { useEffect} from 'react';\nimport {useContext} from 'react';\nimport Header from \"../Header/Header\";\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport useFormWithValidation from '../../hook/useFormWithValidation';\n\nfunction Profile({ handleSignOut, handleProfile, loggedIn }){\n\n  const { values, handleChange, resetForm, errors, isValid } = useFormWithValidation();\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    handleProfile(values);\n    console.log(values);\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser, {}, true);\n    }\n  }, [currentUser, resetForm]);\n\n return(\n        <>\n            <Header loggedIn={loggedIn} />\n            <section className=\"profile\">\n                <h3 className=\"profile__title\">{`Привет, ${currentUser.name || ''}!`}</h3>\n                <form className=\"profile__form\" onSubmit={handleSubmit}>\n                    <label className=\"profile__label\">\n                    Имя\n                        <input\n                        name='name'\n                        className=\"profile__input\"\n                        onChange={handleChange}\n                        defaultValue={values.name || ''}\n                        type='text'\n                        required\n                        minLength=\"2\"\n                        maxLength=\"30\"\n                        pattern=\"^[A-Za-zА-Яа-яЁё /s -]+$\"\n                        \n                        />\n                    </label>\n                    <span className=\"profile__erorr\">{errors.name}</span>\n                    <label className=\"profile__label\">\n                    E-mail\n                        <input\n                        name='email'\n                        className=\"profile__input\"\n                        onChange={handleChange}\n                        defaultValue={values.email || ''}\n                        type=\"email\"\n                        required\n                        />\n                        </label>\n                        <span className=\"profile__erorr\">{errors.email}</span> \n                        <button className='profile__button-save' type='submit' disabled={!isValid || !currentUser} >Редактировать</button>\n                    \n                </form>\n                <button type=\"submit\" className=\"profile__logout\" onClick={handleSignOut}>\n                        Выйти из аккаунта\n                    </button>\n            </section>\n        </>\n    );\n    \n}\n\nexport default Profile"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}