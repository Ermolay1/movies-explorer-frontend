{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u041B\\u0435\\u0445\\u0430\\\\Documents\\\\dev\\\\first-project\\\\movies-explorer-frontend\\\\src\\\\components\\\\Profile\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { useContext } from 'react';\nimport Header from \"../Header/Header\";\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport useFormWithValidation from '../../hook/useFormWithValidation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Profile(_ref) {\n  _s();\n  let {\n    handleSignOut,\n    handleProfile,\n    loggedIn\n  } = _ref;\n  const {\n    values,\n    handleChange,\n    resetForm,\n    errors,\n    isValid\n  } = useFormWithValidation();\n  const currentUser = useContext(CurrentUserContext);\n  const [isUserInfoChange, setIsUserInfoChange] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  useEffect(() => {\n    if (name !== currentUser.name || email !== currentUser.email) {\n      setIsUserInfoChange(true);\n    } else {\n      setIsUserInfoChange(false);\n    }\n  }, [name, email, currentUser]);\n  function handleSubmit(e) {\n    e.preventDefault();\n    handleProfile(values);\n    console.log(values);\n  }\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser, {}, true);\n    }\n  }, [currentUser, resetForm]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      loggedIn: loggedIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"profile__title\",\n        children: `Привет, ${currentUser.name || ''}!`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"profile__form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__label\",\n          children: [\"\\u0418\\u043C\\u044F\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            className: \"profile__input\",\n            onChange: handleChange,\n            defaultValue: values.name || '',\n            type: \"text\",\n            required: true,\n            minLength: \"2\",\n            maxLength: \"30\",\n            pattern: \"^[A-Za-z\\u0410-\\u042F\\u0430-\\u044F\\u0401\\u0451 /s -]+$\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profile__erorr\",\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__label\",\n          children: [\"E-mail\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            className: \"profile__input\",\n            onChange: handleChange,\n            defaultValue: values.email || '',\n            type: \"email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profile__erorr\",\n          children: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"profile__button-save\",\n          type: \"submit\",\n          disabled: !isValid || g,\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"profile__logout\",\n        onClick: handleSignOut,\n        children: \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Profile, \"ZX4+kpYpcctiFUn25IY2cBkrEWA=\", false, function () {\n  return [useFormWithValidation];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Header","CurrentUserContext","useFormWithValidation","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_ref","_s","handleSignOut","handleProfile","loggedIn","values","handleChange","resetForm","errors","isValid","currentUser","isUserInfoChange","setIsUserInfoChange","name","setName","email","setEmail","handleSubmit","e","preventDefault","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","onChange","defaultValue","type","required","minLength","maxLength","pattern","disabled","g","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Леха/Documents/dev/first-project/movies-explorer-frontend/src/components/Profile/Profile.jsx"],"sourcesContent":["import React from 'react';\nimport { useEffect, useState} from 'react';\nimport {useContext} from 'react';\nimport Header from \"../Header/Header\";\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport useFormWithValidation from '../../hook/useFormWithValidation';\n\nfunction Profile({ handleSignOut, handleProfile, loggedIn }){\n\n  const { values, handleChange, resetForm, errors, isValid } = useFormWithValidation();\n  const currentUser = useContext(CurrentUserContext);\n  const [isUserInfoChange, setIsUserInfoChange ] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  useEffect(() => { \n    if ((name !== currentUser.name) || (email !== currentUser.email)) {\n      setIsUserInfoChange(true)\n     } else {\n      setIsUserInfoChange(false)\n    }\n  }, [name, email, currentUser],);\n  \n  \n  \n  \n  function handleSubmit(e) {\n    e.preventDefault();\n    handleProfile(values);\n    console.log(values);\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser, {}, true);\n    }\n  }, [currentUser, resetForm]);\n\n return(\n        <>\n            <Header loggedIn={loggedIn} />\n            <section className=\"profile\">\n                <h3 className=\"profile__title\">{`Привет, ${currentUser.name || ''}!`}</h3>\n                <form className=\"profile__form\" onSubmit={handleSubmit}>\n                    <label className=\"profile__label\">\n                    Имя\n                        <input\n                        name='name'\n                        className=\"profile__input\"\n                        onChange={handleChange}\n                        defaultValue={values.name || ''}\n                        type='text'\n                        required\n                        minLength=\"2\"\n                        maxLength=\"30\"\n                        pattern=\"^[A-Za-zА-Яа-яЁё /s -]+$\"\n                        \n                        />\n                    </label>\n                    <span className=\"profile__erorr\">{errors.name}</span>\n                    <label className=\"profile__label\">\n                    E-mail\n                        <input\n                        name='email'\n                        className=\"profile__input\"\n                        onChange={handleChange}\n                        defaultValue={values.email || ''}\n                        type=\"email\"\n                        required\n                        />\n                        </label>\n                        <span className=\"profile__erorr\">{errors.email}</span> \n                        <button className='profile__button-save' type='submit' disabled={(!isValid  || g)} >Редактировать</button>\n                    \n                </form>\n                <button type=\"submit\" className=\"profile__logout\" onClick={handleSignOut}>\n                        Выйти из аккаунта\n                    </button>\n            </section>\n        </>\n    );\n    \n}\n\nexport default Profile"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}