{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\u041B\\u0435\\u0445\\u0430/Documents/dev/first-project/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/\\u041B\\u0435\\u0445\\u0430/Documents/dev/first-project/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/\\u041B\\u0435\\u0445\\u0430/Documents/dev/first-project/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/\\u041B\\u0435\\u0445\\u0430/Documents/dev/first-project/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{MOVIE_URL}from'./constants';var MoviesApi=/*#__PURE__*/function(){function MoviesApi(_ref){var baseUrl=_ref.baseUrl;_classCallCheck(this,MoviesApi);this._baseUrl=baseUrl;}// проверка статуса запроса\n_createClass(MoviesApi,[{key:\"_requestResult\",value:function(){var _requestResult2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return res.json();case 2:result=_context.sent;return _context.abrupt(\"return\",res.ok?result:Promise.reject(res));case 4:case\"end\":return _context.stop();}},_callee);}));function _requestResult(_x){return _requestResult2.apply(this,arguments);}return _requestResult;}()// регистрация\n},{key:\"getMovies\",value:function getMovies(){var _this=this;return fetch(\"\".concat(this._baseUrl),{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(res){return _this._requestResult(res);});}}]);return MoviesApi;}();var moviesApi=new MoviesApi({baseUrl:MOVIE_URL});export default moviesApi;","map":{"version":3,"names":["MOVIE_URL","MoviesApi","_ref","baseUrl","_classCallCheck","_baseUrl","_createClass","key","value","_requestResult2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","result","wrap","_callee$","_context","prev","next","json","sent","abrupt","ok","Promise","reject","stop","_requestResult","_x","apply","arguments","getMovies","_this","fetch","concat","method","headers","then","moviesApi"],"sources":["C:/Users/Леха/Documents/dev/first-project/movies-explorer-frontend/src/utils/MoviesApi.js"],"sourcesContent":["import { MOVIE_URL } from './constants';\n\nclass MoviesApi {\n  constructor({ baseUrl }) {\n    this._baseUrl = baseUrl;\n  }\n\n  // проверка статуса запроса\n  async _requestResult(res) {\n    const result = await res.json();\n    return res.ok ? result : Promise.reject(res);\n  }\n\n  // регистрация\n  getMovies() {\n    return fetch(`${this._baseUrl}`, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n    }).then((res) => this._requestResult(res));\n  }\n}\n\nconst moviesApi = new MoviesApi({\n  baseUrl: MOVIE_URL,\n});\n\nexport default moviesApi;"],"mappings":"8rBAAA,OAASA,SAAS,KAAQ,aAAa,CAAC,GAElC,CAAAC,SAAS,yBACb,SAAAA,UAAAC,IAAA,CAAyB,IAAX,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAAC,eAAA,MAAAH,SAAA,EACnB,IAAI,CAACI,QAAQ,CAAGF,OAAO,CACzB,CAEA;AAAAG,YAAA,CAAAL,SAAA,GAAAM,GAAA,kBAAAC,KAAA,gBAAAC,eAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACA,SAAAC,QAAqBC,GAAG,MAAAC,MAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACD,CAAAN,GAAG,CAACO,IAAI,CAAC,CAAC,QAAzBN,MAAM,CAAAG,QAAA,CAAAI,IAAA,QAAAJ,QAAA,CAAAK,MAAA,UACLT,GAAG,CAACU,EAAE,CAAGT,MAAM,CAAGU,OAAO,CAACC,MAAM,CAACZ,GAAG,CAAC,0BAAAI,QAAA,CAAAS,IAAA,MAAAd,OAAA,GAC7C,YAAAe,eAAAC,EAAA,SAAApB,eAAA,CAAAqB,KAAA,MAAAC,SAAA,UAAAH,cAAA,IAED;AAAA,GAAArB,GAAA,aAAAC,KAAA,CACA,SAAAwB,UAAA,CAAY,KAAAC,KAAA,MACV,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAAC9B,QAAQ,EAAI,CAC/B+B,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,CAACC,IAAI,CAAC,SAACxB,GAAG,QAAK,CAAAmB,KAAI,CAACL,cAAc,CAACd,GAAG,CAAC,GAAC,CAC5C,CAAC,WAAAb,SAAA,KAGH,GAAM,CAAAsC,SAAS,CAAG,GAAI,CAAAtC,SAAS,CAAC,CAC9BE,OAAO,CAAEH,SACX,CAAC,CAAC,CAEF,cAAe,CAAAuC,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}