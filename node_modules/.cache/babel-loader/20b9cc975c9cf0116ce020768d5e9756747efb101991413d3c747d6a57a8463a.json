{"ast":null,"code":"// проверка изображений полученных от сервера\nfunction transformMovies(movies) {\n  movies.forEach(movie => {\n    if (!movie.image) {\n      movie.image = 'https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80';\n      movie.thumbnail = 'https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80';\n    } else {\n      movie.thumbnail = `https://api.nomoreparties.co${movie.image.formats.thumbnail.url}`;\n      movie.image = `https://api.nomoreparties.co${movie.image.url}`;\n    }\n    if (!movie.country) {\n      movie.country = 'Russia';\n    }\n    if (!movie.nameEN) {\n      movie.nameEN = movie.nameRU;\n    }\n  });\n  return movies;\n}\n\n// фильтрация по длительности\nfunction filterShortMovies(movies) {\n  return movies.filter(movie => movie.duration < 40);\n}\n\n// фильтрация по запросу\nfunction filterMovies(movies, userQuery, shortMoviesCheckbox) {\n  const moviesByUserQuery = movies.filter(movie => {\n    const movieRu = String(movie.nameRU).toLowerCase().trim();\n    const movieEn = String(movie.nameEN).toLowerCase().trim();\n    const userMovie = userQuery.toLowerCase().trim();\n    return movieRu.indexOf(userMovie) !== -1 || movieEn.indexOf(userMovie) !== -1;\n  });\n  if (shortMoviesCheckbox) {\n    return filterShortMovies(moviesByUserQuery);\n  } else {\n    return moviesByUserQuery;\n  }\n}\n\n// преобразование длительности\nfunction transformDuration(duration) {\n  const hours = Math.trunc(duration / 60);\n  const minutes = duration % 60;\n  if (hours === 0) {\n    return `${minutes}м`;\n  } else {\n    return `${hours}ч ${minutes}м`;\n  }\n}\n\n// cравнение сохраненных фильмов\nfunction getSavedMovieCard(arr, movie) {\n  return arr.find(item => {\n    return item.movieId === (movie.id || movie.movieId);\n  });\n}\nexport { transformMovies, filterMovies, filterShortMovies, transformDuration, getSavedMovieCard };","map":{"version":3,"names":["transformMovies","movies","forEach","movie","image","thumbnail","formats","url","country","nameEN","nameRU","filterShortMovies","filter","duration","filterMovies","userQuery","shortMoviesCheckbox","moviesByUserQuery","movieRu","String","toLowerCase","trim","movieEn","userMovie","indexOf","transformDuration","hours","Math","trunc","minutes","getSavedMovieCard","arr","find","item","movieId","id"],"sources":["C:/Users/Леха/Documents/dev/first-project/movies-explorer-frontend/src/utils/utils.js"],"sourcesContent":["// проверка изображений полученных от сервера\nfunction transformMovies(movies) {\n  movies.forEach(movie => {\n    if (!movie.image) {\n      movie.image = 'https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80';\n      movie.thumbnail = 'https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1940&q=80';\n    } else {\n      movie.thumbnail = `https://api.nomoreparties.co${movie.image.formats.thumbnail.url}`\n      movie.image = `https://api.nomoreparties.co${movie.image.url}`\n    }\n    if(!movie.country) {\n      movie.country = 'Russia';\n    }\n    if(!movie.nameEN) {\n      movie.nameEN = movie.nameRU;\n    }\n  });\n  return movies\n}\n\n// фильтрация по длительности\nfunction filterShortMovies(movies) {\n  return movies.filter(movie => movie.duration < 40);\n}\n\n// фильтрация по запросу\nfunction filterMovies(movies, userQuery, shortMoviesCheckbox) {\n  const moviesByUserQuery = movies.filter((movie) => {\n    const movieRu = String(movie.nameRU).toLowerCase().trim();\n    const movieEn = String(movie.nameEN).toLowerCase().trim();\n    const userMovie = userQuery.toLowerCase().trim();\n    return movieRu.indexOf(userMovie) !== -1 || movieEn.indexOf(userMovie) !== -1;\n  });\n\n  if (shortMoviesCheckbox) {\n    return filterShortMovies(moviesByUserQuery);\n  } else {\n    return moviesByUserQuery;\n  }\n}\n\n// преобразование длительности\nfunction transformDuration(duration) {\n  const hours = Math.trunc(duration / 60);\n  const minutes = duration % 60;\n  if(hours === 0) {\n    return `${minutes}м`;\n  } else {\n    return `${hours}ч ${minutes}м`;\n  }\n}\n\n// cравнение сохраненных фильмов\nfunction getSavedMovieCard(arr, movie) {\n  return arr.find((item) => {\n    return item.movieId === (movie.id || movie.movieId);\n  });\n}\n\nexport {\n  transformMovies,\n  filterMovies,\n  filterShortMovies,\n  transformDuration,\n  getSavedMovieCard,\n};"],"mappings":"AAAA;AACA,SAASA,eAAeA,CAACC,MAAM,EAAE;EAC/BA,MAAM,CAACC,OAAO,CAACC,KAAK,IAAI;IACtB,IAAI,CAACA,KAAK,CAACC,KAAK,EAAE;MAChBD,KAAK,CAACC,KAAK,GAAG,gKAAgK;MAC9KD,KAAK,CAACE,SAAS,GAAG,gKAAgK;IACpL,CAAC,MAAM;MACLF,KAAK,CAACE,SAAS,GAAI,+BAA8BF,KAAK,CAACC,KAAK,CAACE,OAAO,CAACD,SAAS,CAACE,GAAI,EAAC;MACpFJ,KAAK,CAACC,KAAK,GAAI,+BAA8BD,KAAK,CAACC,KAAK,CAACG,GAAI,EAAC;IAChE;IACA,IAAG,CAACJ,KAAK,CAACK,OAAO,EAAE;MACjBL,KAAK,CAACK,OAAO,GAAG,QAAQ;IAC1B;IACA,IAAG,CAACL,KAAK,CAACM,MAAM,EAAE;MAChBN,KAAK,CAACM,MAAM,GAAGN,KAAK,CAACO,MAAM;IAC7B;EACF,CAAC,CAAC;EACF,OAAOT,MAAM;AACf;;AAEA;AACA,SAASU,iBAAiBA,CAACV,MAAM,EAAE;EACjC,OAAOA,MAAM,CAACW,MAAM,CAACT,KAAK,IAAIA,KAAK,CAACU,QAAQ,GAAG,EAAE,CAAC;AACpD;;AAEA;AACA,SAASC,YAAYA,CAACb,MAAM,EAAEc,SAAS,EAAEC,mBAAmB,EAAE;EAC5D,MAAMC,iBAAiB,GAAGhB,MAAM,CAACW,MAAM,CAAET,KAAK,IAAK;IACjD,MAAMe,OAAO,GAAGC,MAAM,CAAChB,KAAK,CAACO,MAAM,CAAC,CAACU,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IACzD,MAAMC,OAAO,GAAGH,MAAM,CAAChB,KAAK,CAACM,MAAM,CAAC,CAACW,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IACzD,MAAME,SAAS,GAAGR,SAAS,CAACK,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAChD,OAAOH,OAAO,CAACM,OAAO,CAACD,SAAS,CAAC,KAAK,CAAC,CAAC,IAAID,OAAO,CAACE,OAAO,CAACD,SAAS,CAAC,KAAK,CAAC,CAAC;EAC/E,CAAC,CAAC;EAEF,IAAIP,mBAAmB,EAAE;IACvB,OAAOL,iBAAiB,CAACM,iBAAiB,CAAC;EAC7C,CAAC,MAAM;IACL,OAAOA,iBAAiB;EAC1B;AACF;;AAEA;AACA,SAASQ,iBAAiBA,CAACZ,QAAQ,EAAE;EACnC,MAAMa,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACf,QAAQ,GAAG,EAAE,CAAC;EACvC,MAAMgB,OAAO,GAAGhB,QAAQ,GAAG,EAAE;EAC7B,IAAGa,KAAK,KAAK,CAAC,EAAE;IACd,OAAQ,GAAEG,OAAQ,GAAE;EACtB,CAAC,MAAM;IACL,OAAQ,GAAEH,KAAM,KAAIG,OAAQ,GAAE;EAChC;AACF;;AAEA;AACA,SAASC,iBAAiBA,CAACC,GAAG,EAAE5B,KAAK,EAAE;EACrC,OAAO4B,GAAG,CAACC,IAAI,CAAEC,IAAI,IAAK;IACxB,OAAOA,IAAI,CAACC,OAAO,MAAM/B,KAAK,CAACgC,EAAE,IAAIhC,KAAK,CAAC+B,OAAO,CAAC;EACrD,CAAC,CAAC;AACJ;AAEA,SACElC,eAAe,EACfc,YAAY,EACZH,iBAAiB,EACjBc,iBAAiB,EACjBK,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}