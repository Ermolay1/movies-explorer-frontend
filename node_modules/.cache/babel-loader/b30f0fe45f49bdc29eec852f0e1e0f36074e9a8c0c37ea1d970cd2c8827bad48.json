{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u041B\\u0435\\u0445\\u0430\\\\Documents\\\\dev\\\\first-project\\\\movies-explorer-frontend\\\\src\\\\components\\\\Profile\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useContext } from 'react';\nimport Header from \"../Header/Header\";\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport useFormWithValidation from '../../hook/useFormWithValidation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Profile(_ref) {\n  _s();\n  let {\n    handleSignOut,\n    handleProfile,\n    loggedIn\n  } = _ref;\n  const {\n    values,\n    handleChange,\n    resetForm,\n    errors,\n    isValid\n  } = useFormWithValidation();\n  const currentUser = useContext(CurrentUserContext);\n  function handleSubmit(e) {\n    e.preventDefault();\n    handleProfile(values);\n    console.log(values);\n  }\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser, {}, true);\n    }\n  }, [currentUser, resetForm]);\n  const requirementValidity = !isValid || currentUser.name === values.name && currentUser.email === values.email;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      loggedIn: loggedIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"profile__title\",\n        children: `Привет, ${currentUser.name || ''}!`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"profile__form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__label\",\n          children: [\"\\u0418\\u043C\\u044F\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            className: \"profile__input\",\n            onChange: handleChange,\n            defaultValue: values.name || '',\n            type: \"text\",\n            required: true,\n            minLength: \"2\",\n            maxLength: \"30\",\n            pattern: \"^[A-Za-z\\u0410-\\u042F\\u0430-\\u044F\\u0401\\u0451 /s -]+$\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profile__border\",\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__label\",\n          children: [\"E-mail\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            className: \"profile__input\",\n            onChange: handleChange,\n            defaultValue: values.email || '',\n            type: \"email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: erro\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), requirementValidity ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"profile__button-save profile__button-save_disable\",\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 22\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"profile__button-save\",\n          type: \"submit\",\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"profile__logout\",\n        onClick: handleSignOut,\n        children: \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Profile, \"ZeF9TbXPqG592Qu5K/iUIqEjgj0=\", false, function () {\n  return [useFormWithValidation];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useContext","Header","CurrentUserContext","useFormWithValidation","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_ref","_s","handleSignOut","handleProfile","loggedIn","values","handleChange","resetForm","errors","isValid","currentUser","handleSubmit","e","preventDefault","console","log","requirementValidity","name","email","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","onChange","defaultValue","type","required","minLength","maxLength","pattern","erro","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Леха/Documents/dev/first-project/movies-explorer-frontend/src/components/Profile/Profile.jsx"],"sourcesContent":["import React from 'react';\nimport { useEffect} from 'react';\nimport {useContext} from 'react';\nimport Header from \"../Header/Header\";\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport useFormWithValidation from '../../hook/useFormWithValidation';\n\nfunction Profile({ handleSignOut, handleProfile, loggedIn }){\n\n  const { values, handleChange, resetForm, errors, isValid } = useFormWithValidation();\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    handleProfile(values);\n    console.log(values);\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser, {}, true);\n    }\n  }, [currentUser, resetForm]);\n\n  const requirementValidity = (!isValid || (currentUser.name === values.name && currentUser.email === values.email));\n\n\n\n    return(\n        <>\n            <Header loggedIn={loggedIn} />\n            <section className=\"profile\">\n                <h3 className=\"profile__title\">{`Привет, ${currentUser.name || ''}!`}</h3>\n                <form className=\"profile__form\" onSubmit={handleSubmit}>\n                    <label className=\"profile__label\">\n                    Имя\n                        <input\n                        name='name'\n                        className=\"profile__input\"\n                        onChange={handleChange}\n                        defaultValue={values.name || ''}\n                        type='text'\n                        required\n                        minLength=\"2\"\n                        maxLength=\"30\"\n                        pattern=\"^[A-Za-zА-Яа-яЁё /s -]+$\"\n                        \n                        />\n                    </label>\n                    <span className=\"profile__border\">{errors.name}</span>\n                    <label className=\"profile__label\">\n                    E-mail\n                        <input\n                        name='email'\n                        className=\"profile__input\"\n                        onChange={handleChange}\n                        defaultValue={values.email || ''}\n                        type=\"email\"\n                        required\n                        />\n                        <span>{erro}</span>\n                    </label>\n                    {requirementValidity ? \n                    (<p className=\"profile__button-save profile__button-save_disable\" >Редактировать</p>) \n                    : \n                    (<button  className=\"profile__button-save\" type=\"submit\">Редактировать</button>)\n                  }\n                </form>\n                <button type=\"submit\" className=\"profile__logout\" onClick={handleSignOut}>\n                        Выйти из аккаунта\n                    </button>\n            </section>\n        </>\n    );\n}\n\nexport default Profile"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAO,OAAO;AAChC,SAAQC,UAAU,QAAO,OAAO;AAChC,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,kBAAkB,MAAM,mCAAmC;AAClE,OAAOC,qBAAqB,MAAM,kCAAkC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAErE,SAASC,OAAOA,CAAAC,IAAA,EAA4C;EAAAC,EAAA;EAAA,IAA3C;IAAEC,aAAa;IAAEC,aAAa;IAAEC;EAAS,CAAC,GAAAJ,IAAA;EAEzD,MAAM;IAAEK,MAAM;IAAEC,YAAY;IAAEC,SAAS;IAAEC,MAAM;IAAEC;EAAQ,CAAC,GAAGf,qBAAqB,CAAC,CAAC;EACpF,MAAMgB,WAAW,GAAGnB,UAAU,CAACE,kBAAkB,CAAC;EAElD,SAASkB,YAAYA,CAACC,CAAC,EAAE;IACvBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBV,aAAa,CAACE,MAAM,CAAC;IACrBS,OAAO,CAACC,GAAG,CAACV,MAAM,CAAC;EACrB;EAEAf,SAAS,CAAC,MAAM;IACd,IAAIoB,WAAW,EAAE;MACfH,SAAS,CAACG,WAAW,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC;IAClC;EACF,CAAC,EAAE,CAACA,WAAW,EAAEH,SAAS,CAAC,CAAC;EAE5B,MAAMS,mBAAmB,GAAI,CAACP,OAAO,IAAKC,WAAW,CAACO,IAAI,KAAKZ,MAAM,CAACY,IAAI,IAAIP,WAAW,CAACQ,KAAK,KAAKb,MAAM,CAACa,KAAO;EAIhH,oBACItB,OAAA,CAAAE,SAAA;IAAAqB,QAAA,gBACIvB,OAAA,CAACJ,MAAM;MAACY,QAAQ,EAAEA;IAAS;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC9B3B,OAAA;MAAS4B,SAAS,EAAC,SAAS;MAAAL,QAAA,gBACxBvB,OAAA;QAAI4B,SAAS,EAAC,gBAAgB;QAAAL,QAAA,EAAG,WAAUT,WAAW,CAACO,IAAI,IAAI,EAAG;MAAE;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC1E3B,OAAA;QAAM4B,SAAS,EAAC,eAAe;QAACC,QAAQ,EAAEd,YAAa;QAAAQ,QAAA,gBACnDvB,OAAA;UAAO4B,SAAS,EAAC,gBAAgB;UAAAL,QAAA,GAAC,oBAE9B,eAAAvB,OAAA;YACAqB,IAAI,EAAC,MAAM;YACXO,SAAS,EAAC,gBAAgB;YAC1BE,QAAQ,EAAEpB,YAAa;YACvBqB,YAAY,EAAEtB,MAAM,CAACY,IAAI,IAAI,EAAG;YAChCW,IAAI,EAAC,MAAM;YACXC,QAAQ;YACRC,SAAS,EAAC,GAAG;YACbC,SAAS,EAAC,IAAI;YACdC,OAAO,EAAC;UAA0B;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEjC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACR3B,OAAA;UAAM4B,SAAS,EAAC,iBAAiB;UAAAL,QAAA,EAAEX,MAAM,CAACS;QAAI;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtD3B,OAAA;UAAO4B,SAAS,EAAC,gBAAgB;UAAAL,QAAA,GAAC,QAE9B,eAAAvB,OAAA;YACAqB,IAAI,EAAC,OAAO;YACZO,SAAS,EAAC,gBAAgB;YAC1BE,QAAQ,EAAEpB,YAAa;YACvBqB,YAAY,EAAEtB,MAAM,CAACa,KAAK,IAAI,EAAG;YACjCU,IAAI,EAAC,OAAO;YACZC,QAAQ;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC,eACF3B,OAAA;YAAAuB,QAAA,EAAOc;UAAI;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC,EACPP,mBAAmB,gBACnBpB,OAAA;UAAG4B,SAAS,EAAC,mDAAmD;UAAAL,QAAA,EAAE;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEnF3B,OAAA;UAAS4B,SAAS,EAAC,sBAAsB;UAACI,IAAI,EAAC,QAAQ;UAAAT,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAE9E,CAAC,eACP3B,OAAA;QAAQgC,IAAI,EAAC,QAAQ;QAACJ,SAAS,EAAC,iBAAiB;QAACU,OAAO,EAAEhC,aAAc;QAAAiB,QAAA,EAAC;MAEtE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAAA,eACZ,CAAC;AAEX;AAACtB,EAAA,CAnEQF,OAAO;EAAA,QAE+CL,qBAAqB;AAAA;AAAAyC,EAAA,GAF3EpC,OAAO;AAqEhB,eAAeA,OAAO;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}