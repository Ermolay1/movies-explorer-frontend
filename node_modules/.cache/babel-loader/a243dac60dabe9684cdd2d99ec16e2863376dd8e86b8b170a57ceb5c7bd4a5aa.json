{"ast":null,"code":"import _toConsumableArray from\"C:/Users/\\u041B\\u0435\\u0445\\u0430/Documents/dev/first-project/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/\\u041B\\u0435\\u0445\\u0430/Documents/dev/first-project/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/\\u041B\\u0435\\u0445\\u0430/Documents/dev/first-project/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Route,Routes,useNavigate}from'react-router-dom';import{useState,useEffect}from'react';import Main from'../Main/Main';import'./App.css';import Register from'../Register/Register';import Login from'../Login/Login';import Movies from'../Movies/Movies';import Profile from'../Profile/Profile';import SavedMovies from'../SavedMovies/SavedMovies';import NotFound from'../NotFound/NotFound';import mainApi from'../../utils/MainApi';import ProtectedRoute from'../ProtectedRoute/ProtectedRoute';import CurrentUserContext from'../../contexts/CurrentUserContext';import authApi from'../../utils/AuthApi';import InfoTooltip from'../../components/InfoTooltip/InfoTooltip';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var validator=require('validator');var _useState=useState(),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loggedIn=_useState4[0],setLoggedIn=_useState4[1];var _useState5=useState({isOpen:false,successful:true,text:''}),_useState6=_slicedToArray(_useState5,2),isInfoTooltip=_useState6[0],setIsInfoTooltip=_useState6[1];var navigate=useNavigate();var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),savedMoviesList=_useState8[0],setSavedMoviesList=_useState8[1];function closeInfoTooltip(){setIsInfoTooltip(_objectSpread(_objectSpread({},isInfoTooltip),{},{isOpen:false}));}function handleRegisterUser(name,email,password){if(validator.isEmail(email)){authApi.registerUser(name,email,password).then(function(data){if(data){setLoggedIn(true);/*setCurrentUser({\n        name,\n        email,\n      });*/localStorage.setItem(\"jwt\",data.token);handleAuthUser(email,password);}}).catch(function(err){setIsInfoTooltip({isOpen:true,successful:false,text:'Такой пользователь уже существует'});});}else{setIsInfoTooltip({isOpen:true,successful:false,text:'Введены не корректные данные'});}}function setUserData(){var jwt=localStorage.getItem('jwt');authApi.checkToken(jwt).then(function(user){setCurrentUser({email:user.email,name:user.name});});}function handleAuthUser(email,password){authApi.loginUser(email,password).then(function(res){localStorage.setItem('jwt',res.token);setLoggedIn(true);setTimeout(function(){navigate('/movies');},200);setIsInfoTooltip({isOpen:true,successful:true,text:'Добро пожаловать!'});setUserData();}).catch(function(err){return setIsInfoTooltip({isOpen:true,successful:false,text:\"Вы ввели не правильный логин или пароль\"});});}function handleSignOut(){setCurrentUser({});setLoggedIn(false);localStorage.clear();}function handleProfile(_ref){var name=_ref.name,email=_ref.email;mainApi.updateUser(name,email).then(function(newUserData){setCurrentUser(newUserData);setIsInfoTooltip({isOpen:true,successful:true,text:'Ваши данные обновлены!'});}).catch(function(err){return setIsInfoTooltip({isOpen:true,successful:false,text:err});});}function handleSaveMovie(movie){console.log(movie);mainApi.addNewMovie(movie).then(function(newMovie){return setSavedMoviesList([newMovie].concat(_toConsumableArray(savedMoviesList)));}).catch(function(err){return setIsInfoTooltip({isOpen:true,successful:false,text:err});});}function handleDeleteMovie(movie){var savedMovie=savedMoviesList.find(function(item){return item.movieId===movie.id||item.movieId===movie.movieId;});mainApi.deleteMovie(savedMovie._id).then(function(){var newMoviesList=savedMoviesList.filter(function(m){if(movie.id===m.movieId||movie.movieId===m.movieId){return false;}else{return true;}});setSavedMoviesList(newMoviesList);}).catch(function(err){return setIsInfoTooltip({isOpen:true,successful:false,text:err});});}useEffect(function(){var jwt=localStorage.getItem(\"jwt\");if(jwt){authApi.checkToken(jwt).then(function(user){if(user){setLoggedIn(true);setCurrentUser({email:user.email,name:user.name});navigate(\"/movies\",{replace:true});}}).catch(function(err){return setIsInfoTooltip({isOpen:true,successful:false,text:err});});}else{}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);/*useEffect(() => {\n    mainApi\n      .getCurrentUser()\n      .then((user) => {\n        setCurrentUser({\n          email: user.email,\n          name: user.name\n        });\n      })\n      .catch(err =>\n        setIsInfoTooltip({\n          isOpen: true,\n          successful: false,\n          text: err,\n        })\n      )\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);*/useEffect(function(){if(loggedIn&&currentUser){mainApi.getSavedMovies().then(function(data){setSavedMoviesList(data.reverse());}).catch(function(err){return setIsInfoTooltip({isOpen:true,successful:false,text:err});});}},[currentUser,loggedIn]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(CurrentUserContext.Provider,{value:currentUser,children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(Register,{handleRegisterUser:handleRegisterUser})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(Login,{handleAuthUser:handleAuthUser})}),/*#__PURE__*/_jsx(Route,{path:\"/movies\",element:/*#__PURE__*/_jsx(ProtectedRoute,{loggedIn:loggedIn,children:/*#__PURE__*/_jsx(Movies,{loggedIn:loggedIn,savedMoviesList:savedMoviesList,setIsInfoTooltip:setIsInfoTooltip,onLikeClick:handleSaveMovie,onDeleteClick:handleDeleteMovie})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{loggedIn:loggedIn,children:/*#__PURE__*/_jsx(Profile,{loggedIn:loggedIn,handleProfile:handleProfile,handleSignOut:handleSignOut})})}),/*#__PURE__*/_jsx(Route,{path:\"/saved-movies\",element:/*#__PURE__*/_jsx(ProtectedRoute,{loggedIn:loggedIn,children:/*#__PURE__*/_jsx(SavedMovies,{savedMoviesList:savedMoviesList,onDeleteClick:handleDeleteMovie,setIsInfoTooltip:setIsInfoTooltip,loggedIn:loggedIn})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]}),/*#__PURE__*/_jsx(InfoTooltip,{status:isInfoTooltip,onClose:closeInfoTooltip})]})});}export default App;","map":{"version":3,"names":["Route","Routes","useNavigate","useState","useEffect","Main","Register","Login","Movies","Profile","SavedMovies","NotFound","mainApi","ProtectedRoute","CurrentUserContext","authApi","InfoTooltip","jsx","_jsx","jsxs","_jsxs","App","validator","require","_useState","_useState2","_slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","loggedIn","setLoggedIn","_useState5","isOpen","successful","text","_useState6","isInfoTooltip","setIsInfoTooltip","navigate","_useState7","_useState8","savedMoviesList","setSavedMoviesList","closeInfoTooltip","_objectSpread","handleRegisterUser","name","email","password","isEmail","registerUser","then","data","localStorage","setItem","token","handleAuthUser","catch","err","setUserData","jwt","getItem","checkToken","user","loginUser","res","setTimeout","handleSignOut","clear","handleProfile","_ref","updateUser","newUserData","handleSaveMovie","movie","console","log","addNewMovie","newMovie","concat","_toConsumableArray","handleDeleteMovie","savedMovie","find","item","movieId","id","deleteMovie","_id","newMoviesList","filter","m","replace","getSavedMovies","reverse","className","children","Provider","value","path","element","onLikeClick","onDeleteClick","status","onClose"],"sources":["C:/Users/Леха/Documents/dev/first-project/movies-explorer-frontend/src/components/App/App.js"],"sourcesContent":["import { Route, Routes, useNavigate} from 'react-router-dom';\nimport {useState, useEffect} from 'react';\nimport Main from '../Main/Main';\nimport './App.css';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport Movies from '../Movies/Movies';\nimport Profile from '../Profile/Profile';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport NotFound from '../NotFound/NotFound';\nimport mainApi from '../../utils/MainApi';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport authApi from '../../utils/AuthApi'\nimport InfoTooltip from '../../components/InfoTooltip/InfoTooltip'\nfunction App() {\n  const validator = require('validator');\n  const [currentUser, setCurrentUser] = useState();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isInfoTooltip, setIsInfoTooltip] = useState({\n    isOpen: false,\n    successful: true,\n    text: '',\n  });\n  const navigate = useNavigate();\n  const [savedMoviesList, setSavedMoviesList] = useState([]);\n\n  function closeInfoTooltip() {\n    setIsInfoTooltip({ ...isInfoTooltip, isOpen: false });\n  }\n  \n  function handleRegisterUser(name,email,password) {\n    if (validator.isEmail(email)){\n    authApi.registerUser(name, email, password)\n    .then((data) => {\n      if(data) {\n      setLoggedIn(true);\n      /*setCurrentUser({\n        name,\n        email,\n      });*/\n      localStorage.setItem(\"jwt\", data.token);\n      handleAuthUser( email,password );\n    }\n    })\n    .catch((err) => {\n      setIsInfoTooltip({\n        isOpen: true,\n        successful: false,\n        text: 'Такой пользователь уже существует'\n      });\n    })\n  } else {\n    setIsInfoTooltip({\n      isOpen: true,\n      successful: false,\n      text: 'Введены не корректные данные'\n    });\n  }\n  }\n\n  function setUserData() {\n    const jwt = localStorage.getItem('jwt');\n    authApi.checkToken(jwt)\n    .then((user) => {\n      setCurrentUser({\n        email: user.email,\n        name: user.name\n      });\n    })\n  }\n\n  function handleAuthUser( email,password) {\n    authApi.loginUser(email, password)\n    .then((res) => {\n      localStorage.setItem('jwt', res.token)\n      setLoggedIn(true)\n      setTimeout(() => {navigate('/movies')}, 200)\n      setIsInfoTooltip({\n        isOpen: true,\n        successful: true,\n        text: 'Добро пожаловать!',\n      });\n      setUserData();\n      }\n      )\n      .catch(err =>\n        setIsInfoTooltip({\n          isOpen: true,\n          successful: false,\n          text: \"Вы ввели не правильный логин или пароль\",\n        })\n      )\n  }\n  \n  function handleSignOut() {\n    setCurrentUser({});\n    setLoggedIn(false);\n    localStorage.clear();\n  }\n  \n  function handleProfile({ name, email }) {\n    mainApi\n      .updateUser(name, email)\n      .then(newUserData => {\n        setCurrentUser(newUserData);\n        setIsInfoTooltip({\n          isOpen: true,\n          successful: true,\n          text: 'Ваши данные обновлены!',\n        });\n      })\n      .catch(err =>\n        setIsInfoTooltip({\n          isOpen: true,\n          successful: false,\n          text: err,\n        })\n      )\n  }\n\n  function handleSaveMovie(movie) {\n    console.log(movie);\n    mainApi\n      .addNewMovie(movie)\n      .then(newMovie => setSavedMoviesList([newMovie, ...savedMoviesList]))\n      .catch(err =>\n        setIsInfoTooltip({\n          isOpen: true,\n          successful: false,\n          text: err,\n        })\n      );\n  }\n\n  function handleDeleteMovie(movie) {\n    const savedMovie = savedMoviesList.find(\n      (item) => item.movieId === movie.id || item.movieId === movie.movieId\n    );\n    mainApi\n      .deleteMovie(savedMovie._id)\n      .then(() => {\n        const newMoviesList = savedMoviesList.filter(m => {\n          if (movie.id === m.movieId || movie.movieId === m.movieId) {\n            return false;\n          } else {\n            return true;\n          }\n        });\n        setSavedMoviesList(newMoviesList);\n      })\n      .catch(err =>\n        setIsInfoTooltip({\n          isOpen: true,\n          successful: false,\n          text: err,\n        })\n      );\n  }\n\n  useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      authApi\n        .checkToken(jwt)\n        .then((user) => {\n          if (user) {\n            setLoggedIn(true);\n            setCurrentUser({\n              email: user.email,\n              name: user.name\n            });\n            navigate(\"/movies\", { replace: true });\n          }\n        })\n        .catch(err =>\n          setIsInfoTooltip({\n            isOpen: true,\n            successful: false,\n            text: err,\n          })\n        )\n    } else {\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /*useEffect(() => {\n    mainApi\n      .getCurrentUser()\n      .then((user) => {\n        setCurrentUser({\n          email: user.email,\n          name: user.name\n        });\n      })\n      .catch(err =>\n        setIsInfoTooltip({\n          isOpen: true,\n          successful: false,\n          text: err,\n        })\n      )\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);*/\n\n  useEffect(() => {\n    if (loggedIn && currentUser) {\n      mainApi\n        .getSavedMovies()\n        .then(data => {\n          setSavedMoviesList(data.reverse());\n        })\n        .catch(err =>\n          setIsInfoTooltip({\n            isOpen: true,\n            successful: false,\n            text: err,\n          })\n        );\n    }\n  }, [currentUser, loggedIn]);\n\n\n  return (\n  <div className='App'>\n    <CurrentUserContext.Provider value={currentUser}>\n    <Routes>\n     <Route\n        path='/'\n        element={<Main />}\n      />\n      <Route\n        path='/sign-up'\n        element={<Register handleRegisterUser={handleRegisterUser} />}\n      />\n      <Route\n        path='/sign-in'\n        element={<Login handleAuthUser={handleAuthUser} />}\n      />\n      <Route\n        path='/movies'\n        element={<ProtectedRoute loggedIn={loggedIn}>\n          <Movies \n          loggedIn={loggedIn}\n          savedMoviesList={savedMoviesList}\n          setIsInfoTooltip={setIsInfoTooltip}\n          onLikeClick={handleSaveMovie}\n          onDeleteClick={handleDeleteMovie}\n\n          />\n        </ProtectedRoute>}\n      />\n      <Route\n        path='/profile'\n        element={<ProtectedRoute loggedIn={loggedIn} >\n          <Profile\n          loggedIn={loggedIn}\n          handleProfile={handleProfile}\n          handleSignOut={handleSignOut}\n          />\n        </ProtectedRoute>}\n      />\n      <Route\n        path='/saved-movies'\n        element={<ProtectedRoute loggedIn={loggedIn}>\n          <SavedMovies \n          savedMoviesList={savedMoviesList}\n          onDeleteClick={handleDeleteMovie}\n          setIsInfoTooltip={setIsInfoTooltip}\n          loggedIn={loggedIn}\n          />\n        </ProtectedRoute>}\n      />\n      <Route\n        path=\"*\"\n        element={<NotFound />}\n      />\n    </Routes>\n          <InfoTooltip\n            status={isInfoTooltip}\n            onClose={closeInfoTooltip}\n          />\n    </CurrentUserContext.Provider>\n  </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}